# @vizualmodel/vmblu

Runtime for **vmblu** apps — a message-passing engine that runs node graphs defined in vmblu JSON models.  
This package exposes a small public API (for now just the **scaffold**) and is intended to be used by code generated by the vmblu editor.

---

## Install

```bash
npm i @vizualmodel/vmblu-runtime @vizualmodel/vmblu-cli
```

* ESM + CJS builds (no browser UMD bundle).
* Requires **Node 18+** (works in Vite/webpack/etc. for browser targets).

## Quick start

Most projects won’t call the runtime directly—vmblu generates the source that imports it.
If you do want to bootstrap manually:

```js
// ESM
import * as VMBLU from "@vizualmodel/vmblu-runtime";

// prepare all the nodes in the application - returns the runtime
const runtime = VMBLU.scaffold(nodeList, filterList)

// run the application
runtime.start();
```

CommonJS usage:

```js
const VMBLU = require("@vizualmodel/vmblu-runtime");
const app = VMBLU.scaffold(nodeList, filterList);
```

## API (minimal)

### `scaffold(nodeList, filterList)`

Bootstraps the runtime for a vmblu model.

* `nodeList`: vmblu JSON model (nodes, routes, pins)
* `filterList` *(optional)* optional filter for a bus

Returns an *runtime* object:

* `start`

> Note: Today the **public surface is intentionally small**. Additional tools may be exported in future minor versions.

## Why no single-file bundle?

This package is published **library-style** for modern toolchains (tree-shakable ESM, CJS for compatibility).
If you need a `<script>`-friendly UMD build for demos, open an issue—happy to add one later.

## Versioning

Semantic Versioning:

* **patch**: fixes
* **minor**: new, non-breaking exports/features
* **major**: breaking API changes

## License

Apache-2.0 © Vizual Model

```
